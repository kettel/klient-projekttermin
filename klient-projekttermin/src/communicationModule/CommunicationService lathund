CommunicationService lathund

Följande globala variabler behövs.

private CommunicationService communicationService;
private boolean communicationBond = false;

Följande globala metod behövs.

private ServiceConnection communicationServiceConnection = new ServiceConnection() {
			
	public void onServiceConnected(ComponentName className,IBinder service) {
	     CommunicationBinder binder = (CommunicationBinder) service;
            communicationService = binder.getService();
            communicationBond = true;
	}
	
	public void onServiceDisconnected(ComponentName arg0) {
	      	communicationBond = false;
	}

   };
Detta behöver initieras i onCreate

Intent intent = new Intent(this.getApplicationContext(), CommunicationService.class);
bindService(intent, communicationServiceConnection, Context.BIND_AUTO_CREATE);

Så tidigt som möjligt måste denna rad köras (endast en gång)
communicationService.setContext(getApplicationContext());

Detta ska vara med i onDestroy() i din aktivitet
unbindService(communicationServiceConnection);

Sedan kan man skicka data med alla ”send” metoderna.
